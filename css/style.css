/* ---------- Footer: QR — bloco consolidado (legenda 3 linhas acima do QR + botão centralizado) ----------
   Este bloco substitui regras antigas duplicadas. Mantém responsividade e acessibilidade.
   - Posicione este bloco NO FINAL de css/style.css (após qualquer outro código).
   - Ajuste `--qr-size` se quiser alterar o tamanho do QR globalmente. */

:root{
  /* Variável local para facilitar ajustes futuros do QR */
  --qr-size: 184px; /* aproximadamente 4.87cm em 96dpi */
}

/* footer base (ligeira diferença do seu bloco genérico; mantém margem/espacamento) */
.site-footer {
  margin-top: 2rem;
  padding: 1.6rem 0;
  border-top: 1px solid rgba(255,255,255,0.02);
  background: transparent;
}

/* container interno: manter layout flexível (esquerda + direita) */
.footer-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  flex-wrap: nowrap;
}

/* esquerda: logo/copyright (ocupa espaço disponível) */
.footer-left {
  display: flex;
  align-items: center;
  gap: .6rem;
  flex: 1 1 auto;
  min-width: 0;
}

/* direita: QR (em coluna) + botão (centralizados) */
.footer-right {
  display: flex;
  flex-direction: column;
  align-items: center; /* centraliza QR e botão horizontalmente */
  gap: .6rem;
  flex: 0 0 auto;
  justify-content: center;
  padding-left: 1rem;
}

/* ---------- QR wrapper (posicionamento para legenda absoluta) ---------- */
.qr-wrapper {
  position: relative;          /* contexto para .qr-caption (absolute) */
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 0;
  padding-top: 8px;            /* espaço interno caso precise */
  vertical-align: middle;
}

/* ---------- Legenda (3 linhas), posicionada acima do QR, sem sobreposição ---------- */
/* Usamos pointer-events:none para não bloquear clique no link do QR. */
.qr-caption {
  position: absolute;
  left: 50%;
  top: -62px;                  /* ajuste principal: distância acima da imagem */
  transform: translateX(-50%);
  width: 200px;                /* largura que define "quase iguais" para as 3 linhas */
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  pointer-events: none;
  text-align: center;
  z-index: 5;
  background: transparent;     /* sem bloco por padrão (mantém QR limpo) */
  padding: 0;
  line-break: normal;
  /* Se precisar de contraste em fundos complexos, substituir background por rgba(4,4,5,.55) e adicionar padding */
}

/* cada linha da legenda — texto consistente e legível */
.qr-line {
  display: block;
  font-size: 0.86rem;
  line-height: 1.02;
  color: var(--muted);
  font-weight: 600;
  letter-spacing: 0;
  width: 100%;
  word-break: break-word;
}

/* ---------- Imagem do QR (tamanho controlado por variável) ---------- */
.qr-image {
  width: var(--qr-size);
  height: var(--qr-size);
  object-fit: contain;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
  display: block;
  box-shadow: 0 8px 30px rgba(0,0,0,0.55);
  margin-top: 8px;
}

/* ---------- Botão "Voltar ao topo" (abaixo do QR, centralizado) ---------- */
.footer-right .back-top {
  margin-top: 0.75rem;
  align-self: center;
  display: inline-block;
  text-decoration: none;
  color: var(--muted);
  font-weight: 600;
  padding: 0.48rem 0.85rem;
  border-radius: 10px;
  transition: all var(--transition-fast) ease;
  background: transparent;
  border: 1px solid rgba(255,255,255,0.02);
}
.footer-right .back-top:hover,
.footer-right .back-top:focus {
  color: var(--accent);
  transform: translateY(-2px);
  outline: none;
  border-color: rgba(191,164,90,0.14);
  background: rgba(255,255,255,0.01);
}
.footer-right .back-top:focus {
  box-shadow: 0 0 0 4px rgba(191,164,90,0.08);
  border-color: rgba(191,164,90,0.2);
}

/* ---------- Responsividade: telas pequenas ---------- */
@media (max-width: 980px) {
  /* se o header for colapsado, permitir empilhamento do footer também */
  .footer-inner {
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    text-align: center;
  }
  .footer-left { order: 1; width: 100%; justify-content: center; padding: 0 .6rem; }
  .footer-right { order: 2; width: 100%; padding: 0 .6rem; }
}

@media (max-width: 720px) {
  /* aproxima legenda em telas pequenas; evita que fique muito afastada */
  .qr-caption {
    top: -56px;
    width: 72vw;
    max-width: 260px;
    padding: 0 8px;
  }
  .qr-line { font-size: 0.95rem; }
  .qr-image { width: 36vw; max-width: var(--qr-size); height: auto; }
}

/* ---------- Observações / dicas futuras ----------
1) Para afastar mais a legenda do QR aumente top (ex.: top: -72px).
2) Para melhor contraste em fundos complexos, use:
     .qr-caption { background: rgba(4,4,5,0.55); padding:6px 8px; border-radius:10px; }
3) Para reduzir conflitos com regras antigas, mantenha este bloco NO FINAL do CSS.
4) Se outras regras continuarem a prevalecer, aumente a especificidade:
     footer.site-footer .qr-image { ... }
   em vez de apenas .qr-image.
5) Para alterar tamanho do QR globalmente, edite --qr-size acima. 
-------------------------------------------------------------------- */
